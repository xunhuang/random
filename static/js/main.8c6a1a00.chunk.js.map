{"version":3,"sources":["RandomBackend.js","AuthUser.js","index.js","App.js","AuthUserContext.js","AuthenicatedHome.js","reportWebVitals.js"],"names":["__createBinding","this","Object","create","o","m","k","k2","undefined","defineProperty","enumerable","get","__setModuleDefault","v","value","__importStar","mod","__esModule","result","prototype","hasOwnProperty","call","exports","RandomBackend","AuthUser_1","require","fireorm_1","fireorm","firebase","default","firebaseConfig","apps","length","initializeApp","initialize","firestore","validateModels","RandomBackendClass","currentUser","login","provider","auth","GoogleAuthProvider","signInWithPopup","then","console","log","user","catch","error","logout","signOut","userStatusChange","f","_this","onAuthStateChanged","getRepository","AuthUser","findById","uid","firebaseUser","fromFirebaseUser","getCurrentUserOrNull","getCurrentUser","__decorate","decorators","target","key","desc","d","c","arguments","r","getOwnPropertyDescriptor","Reflect","decorate","i","WatchSubscription","displayName","u","id","subscriptionAdd","sub","subscriptions","SubCollection","Collection","__importDefault","react_1","react_dom_1","App_1","reportWebVitals_1","render","createElement","StrictMode","document","getElementById","__assign","assign","t","s","n","p","apply","react_router_dom_1","react_router_dom_2","AuthUserContext_1","RandomBackend_1","AuthenicatedHome_1","Page404","UserSubscriptions","AuthenticatedApp","SafeRoutes","onClick","event","UnauthenticatedApp","Home","props","_a","useState","authUser","setAuthUser","useEffect","AuthUserContext","Provider","withRouter","location","search","startsWith","Redirect","to","slice","Switch","Route","exact","path","component","AuthenicatedHome","BrowserRouter","className","createContext","mui_datatables_1","react_hook_form_1","yup_1","yup","SubscriptionForm","schema","object","shape","name","string","required","url","useForm","resolver","yupResolver","register","handleSubmit","errors","reset","onSubmit","update","callback","ref","defaultValue","type","SubscripionList","options","onRowsDelete","rowsDeleted","data","map","subid","subs","dataIndex","delete","onRowClick","rowData","rowMeta","subClicked","style","maxWidth","columns","label","title","selectedSub","setSelectedSub","_b","setSubs","_c","reload","setReload","find","onPerfEntry","Function","Promise","resolve","getCLS","getFID","getFCP","getLCP","getTTFB"],"mappings":"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","file":"static/js/main.8c6a1a00.chunk.js","sourcesContent":["\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RandomBackend = void 0;\nvar AuthUser_1 = require(\"./AuthUser\");\nvar fireorm_1 = require(\"fireorm\");\nvar fireorm = __importStar(require(\"fireorm\"));\nrequire(\"@firebase/firestore\");\nrequire(\"@firebase/auth\");\nvar firebase = require('firebase/app').default;\nvar firebaseConfig = require('./firebaseConfig.json');\nif (!firebase.apps.length) {\n    firebase.initializeApp(firebaseConfig);\n}\nfireorm.initialize(firebase.firestore(), {\n    validateModels: true\n});\nvar RandomBackendClass = /** @class */ (function () {\n    function RandomBackendClass() {\n        this.currentUser = null;\n    }\n    ;\n    RandomBackendClass.prototype.login = function () {\n        var provider = new firebase.auth.GoogleAuthProvider();\n        firebase.auth().signInWithPopup(provider).then(function (result) {\n            console.log(result.user);\n        }).catch(function (error) {\n            console.log(error);\n        });\n    };\n    RandomBackendClass.prototype.logout = function () {\n        this.currentUser = null;\n        firebase.auth().signOut();\n    };\n    RandomBackendClass.prototype.userStatusChange = function (f) {\n        var _this = this;\n        firebase.auth().onAuthStateChanged(function (user) {\n            if (user) {\n                fireorm_1.getRepository(AuthUser_1.AuthUser).findById(user.uid).then(function (firebaseUser) {\n                    _this.currentUser = firebaseUser;\n                    if (!firebaseUser) {\n                        _this.currentUser = AuthUser_1.AuthUser.fromFirebaseUser(user);\n                        fireorm_1.getRepository(AuthUser_1.AuthUser).create(_this.currentUser);\n                    }\n                    f(_this.currentUser);\n                });\n            }\n            else {\n                console.log(\"user loggout!\");\n                f(null);\n            }\n        });\n    };\n    RandomBackendClass.prototype.getCurrentUserOrNull = function () {\n        return this.currentUser;\n    };\n    RandomBackendClass.prototype.getCurrentUser = function () {\n        return this.currentUser;\n    };\n    return RandomBackendClass;\n}());\nexports.RandomBackend = new RandomBackendClass();\n//# sourceMappingURL=RandomBackend.js.map","\"use strict\";\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AuthUser = exports.WatchSubscription = void 0;\n/* eslint-disable import/first */ // not sure why line position matters\nvar fireorm_1 = require(\"fireorm\");\nvar WatchSubscription = /** @class */ (function () {\n    function WatchSubscription() {\n    }\n    return WatchSubscription;\n}());\nexports.WatchSubscription = WatchSubscription;\n;\nvar AuthUser = /** @class */ (function () {\n    function AuthUser() {\n        this.displayName = null;\n    }\n    AuthUser_1 = AuthUser;\n    AuthUser.fromFirebaseUser = function (user) {\n        var u = new AuthUser_1();\n        u.displayName = user.displayName;\n        u.id = user.uid;\n        return u;\n    };\n    AuthUser.prototype.uid = function () { return this.id; };\n    AuthUser.prototype.subscriptionAdd = function (sub) {\n        this.subscriptions.create(sub);\n    };\n    var AuthUser_1;\n    __decorate([\n        fireorm_1.SubCollection(WatchSubscription)\n    ], AuthUser.prototype, \"subscriptions\", void 0);\n    AuthUser = AuthUser_1 = __decorate([\n        fireorm_1.Collection()\n    ], AuthUser);\n    return AuthUser;\n}());\nexports.AuthUser = AuthUser;\n//# sourceMappingURL=AuthUser.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar react_1 = __importDefault(require(\"react\"));\nvar react_dom_1 = __importDefault(require(\"react-dom\"));\nrequire(\"./index.css\");\nvar App_1 = __importDefault(require(\"./App\"));\nvar reportWebVitals_1 = __importDefault(require(\"./reportWebVitals\"));\nreact_dom_1.default.render(react_1.default.createElement(react_1.default.StrictMode, null,\n    react_1.default.createElement(App_1.default, null)), document.getElementById('root'));\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals_1.default();\n//# sourceMappingURL=index.js.map","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar react_1 = __importDefault(require(\"react\"));\nvar react_router_dom_1 = require(\"react-router-dom\");\nrequire(\"./App.css\");\nvar react_router_dom_2 = require(\"react-router-dom\");\nvar AuthUserContext_1 = require(\"./AuthUserContext\");\nvar RandomBackend_1 = require(\"./RandomBackend\");\nvar AuthenicatedHome_1 = require(\"./AuthenicatedHome\");\nvar Page404 = function () {\n    return react_1.default.createElement(\"h1\", null, \" Oops! That page couldn't be found. \");\n};\nvar UserSubscriptions = function () {\n    var user = RandomBackend_1.RandomBackend.getCurrentUser();\n    return react_1.default.createElement(\"h1\", null,\n        \" My Subscription for \",\n        user.displayName,\n        \", \",\n        user.id,\n        \" \");\n};\nvar App = function (props) {\n    return react_1.default.createElement(react_router_dom_2.BrowserRouter, null,\n        react_1.default.createElement(\"header\", null,\n            react_1.default.createElement(\"div\", { className: \"App\" },\n                react_1.default.createElement(Home, __assign({}, props)))));\n};\nfunction AuthenticatedApp() {\n    return react_1.default.createElement(\"div\", null,\n        react_1.default.createElement(SafeRoutes, null),\n        react_1.default.createElement(\"p\", { onClick: function (event) {\n                RandomBackend_1.RandomBackend.logout();\n            } }, \"Logout\"));\n}\nfunction UnauthenticatedApp() {\n    return react_1.default.createElement(\"h1\", null,\n        \" Un-AuthenticatedApp xxx\",\n        react_1.default.createElement(\"p\", { onClick: function (event) {\n                console.log(\"clicked\");\n                RandomBackend_1.RandomBackend.login();\n            } }, \"Sign in here\"));\n}\nfunction Home(props) {\n    var _a = react_1.default.useState(undefined), authUser = _a[0], setAuthUser = _a[1];\n    react_1.default.useEffect(function () {\n        RandomBackend_1.RandomBackend.userStatusChange(function (user) {\n            setAuthUser(user);\n        });\n    }, []);\n    if (authUser === undefined)\n        return react_1.default.createElement(\"h2\", null, \" Loading\");\n    return (authUser) ?\n        react_1.default.createElement(AuthUserContext_1.AuthUserContext.Provider, { value: authUser },\n            react_1.default.createElement(AuthenticatedApp, null))\n        : react_1.default.createElement(UnauthenticatedApp, null);\n}\nvar SafeRoutes = react_router_dom_1.withRouter(function (props) {\n    /* this came from the 404 redirect */\n    if (props.location.search.startsWith(\"?/\")) {\n        return react_1.default.createElement(react_router_dom_1.Redirect, { to: props.location.search.slice(1) });\n    }\n    return (react_1.default.createElement(react_router_dom_1.Switch, null,\n        react_1.default.createElement(react_router_dom_1.Route, { exact: true, path: \"/\", component: AuthenicatedHome_1.AuthenicatedHome }),\n        react_1.default.createElement(react_router_dom_1.Route, { exact: true, path: \"/sub\", component: UserSubscriptions }),\n        react_1.default.createElement(react_router_dom_1.Route, { exact: true, path: \"*\", component: Page404 })));\n});\nexports.default = App;\n//# sourceMappingURL=App.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AuthUserContext = void 0;\nvar react_1 = __importDefault(require(\"react\"));\nexports.AuthUserContext = react_1.default.createContext(undefined);\n//# sourceMappingURL=AuthUserContext.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AuthenicatedHome = void 0;\nvar react_1 = __importDefault(require(\"react\"));\nvar RandomBackend_1 = require(\"./RandomBackend\");\nvar AuthUser_1 = require(\"./AuthUser\");\nvar mui_datatables_1 = __importDefault(require(\"mui-datatables\"));\nvar react_hook_form_1 = require(\"react-hook-form\");\nvar yup_1 = require(\"@hookform/resolvers/yup\");\nvar yup = __importStar(require(\"yup\"));\nfunction SubscriptionForm(props) {\n    var user = RandomBackend_1.RandomBackend.getCurrentUser();\n    var schema = yup.object().shape({\n        name: yup.string().required(),\n        url: yup.string().url().required(),\n    });\n    var _a = react_hook_form_1.useForm({\n        resolver: yup_1.yupResolver(schema)\n    }), register = _a.register, handleSubmit = _a.handleSubmit, errors = _a.errors, reset = _a.reset;\n    var onSubmit = handleSubmit(function (_a) {\n        var name = _a.name, url = _a.url;\n        var sub = props.sub || new AuthUser_1.WatchSubscription();\n        sub.name = name;\n        sub.url = url;\n        if (!props.sub) {\n            user.subscriptions.create(sub).then(function () {\n                console.log(\"done creating subscriptions\");\n                if (props.callback) {\n                    props.callback();\n                }\n                reset();\n            });\n        }\n        else {\n            user.subscriptions.update(sub).then(function () {\n                console.log(\"done updating subscriptions\");\n                if (props.callback) {\n                    props.callback();\n                }\n            });\n        }\n    });\n    var sub = props.sub;\n    return (react_1.default.createElement(\"div\", null,\n        sub ? react_1.default.createElement(\"label\", null, \"Update Subscription\") :\n            react_1.default.createElement(\"label\", null, \"New Subscription\"),\n        react_1.default.createElement(\"form\", { onSubmit: onSubmit },\n            react_1.default.createElement(\"label\", null, \"Name\"),\n            react_1.default.createElement(\"input\", { name: \"name\", ref: register, defaultValue: sub && sub.name }),\n            errors.name && \"Name is required\",\n            react_1.default.createElement(\"label\", null, \"URL\"),\n            react_1.default.createElement(\"input\", { name: \"url\", ref: register, defaultValue: sub && sub.url }),\n            errors.url && \"URL must be valid\",\n            react_1.default.createElement(\"input\", { type: \"submit\" }))));\n}\nvar SubscripionList = function (props) {\n    var columns = [\n        { label: 'Name', name: 'name' },\n        { label: 'URL', name: 'url' },\n    ];\n    var options = {\n        onRowsDelete: function (rowsDeleted) {\n            var user = RandomBackend_1.RandomBackend.getCurrentUser();\n            rowsDeleted.data.map(function (d) {\n                var subid = props.subs[d.dataIndex].id;\n                user.subscriptions.delete(subid).then(function () {\n                    console.log(\"deleted:\" + subid);\n                });\n            });\n        },\n        onRowClick: function (rowData, rowMeta) {\n            if (props.subClicked) {\n                console.log(\"row clicked\");\n                props.subClicked(props.subs[rowMeta.dataIndex]);\n            }\n        }\n    };\n    return (react_1.default.createElement(\"div\", { style: { maxWidth: '100%' } },\n        react_1.default.createElement(mui_datatables_1.default, { columns: columns, data: props.subs, title: 'Watch Subscriptions', options: options })));\n};\nvar AuthenicatedHome = function () {\n    var user = RandomBackend_1.RandomBackend.getCurrentUser();\n    var _a = react_1.default.useState(undefined), selectedSub = _a[0], setSelectedSub = _a[1];\n    var _b = react_1.default.useState(undefined), subs = _b[0], setSubs = _b[1];\n    var _c = react_1.default.useState(false), reload = _c[0], setReload = _c[1];\n    react_1.default.useEffect(function () {\n        user.subscriptions.find().then(function (data) {\n            setSubs(data);\n        });\n    }, [reload]);\n    return react_1.default.createElement(\"div\", null,\n        react_1.default.createElement(\"h1\", null,\n            \"AuthenticatedHome - \",\n            user.displayName,\n            \", \",\n            user.id),\n        react_1.default.createElement(SubscriptionForm, { sub: selectedSub, callback: function () {\n                console.log(\"hello\");\n                setSelectedSub(undefined);\n                setReload(!reload);\n            } }),\n        react_1.default.createElement(SubscripionList, { subs: subs, subClicked: function (sub) {\n                console.log(\"upldated selected sub\");\n                setSelectedSub(sub);\n            } }));\n};\nexports.AuthenicatedHome = AuthenicatedHome;\n//# sourceMappingURL=AuthenicatedHome.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar reportWebVitals = function (onPerfEntry) {\n    if (onPerfEntry && onPerfEntry instanceof Function) {\n        Promise.resolve().then(function () { return __importStar(require('web-vitals')); }).then(function (_a) {\n            var getCLS = _a.getCLS, getFID = _a.getFID, getFCP = _a.getFCP, getLCP = _a.getLCP, getTTFB = _a.getTTFB;\n            getCLS(onPerfEntry);\n            getFID(onPerfEntry);\n            getFCP(onPerfEntry);\n            getLCP(onPerfEntry);\n            getTTFB(onPerfEntry);\n        });\n    }\n};\nexports.default = reportWebVitals;\n//# sourceMappingURL=reportWebVitals.js.map"],"sourceRoot":""}