(this.webpackJsonpwebsite=this.webpackJsonpwebsite||[]).push([[0],{123:function(e,t,n){},124:function(e,t,n){},155:function(e){e.exports=JSON.parse('{"projectId":"myrandomwatch-b4b41","appId":"1:458223764382:web:ad550ac9d5d240982d0c8f","databaseURL":"https://myrandomwatch-b4b41-default-rtdb.firebaseio.com","storageBucket":"myrandomwatch-b4b41.appspot.com","locationId":"us-central","apiKey":"AIzaSyCfD31xo4THGYQ5_Y0-VPVT71T3sB2YxL0","authDomain":"myrandomwatch-b4b41.firebaseapp.com","messagingSenderId":"458223764382","measurementId":"G-F2BBYE9XWJ"}')},160:function(e,t,n){"use strict";n.r(t);var i,c=n(5),o=n(2),r=n.n(o),a=n(58),s=n.n(a),u=(n(123),n(111)),d=n(6),l=(n(124),n(40)),b=r.a.createContext(void 0),h=n(25),j=n(26),f=n(17),v=function(e,t,n,i){var c,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(c=e[a])&&(r=(o<3?c(r):o>3?c(t,n,r):c(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},p=i=function(){function e(){Object(h.a)(this,e),this.displayName=null}return Object(j.a)(e,[{key:"uid",value:function(){return this.id}}],[{key:"fromFirebaseUser",value:function(e){var t=new i;return t.displayName=e.displayName,t.id=e.uid,t}}]),e}();p=i=v([Object(f.Collection)()],p),n(152),n(153);var g=n(154).default,O=n(155);g.apps.length||g.initializeApp(O),f.initialize(g.firestore(),{validateModels:!0});var x=new(function(){function e(){Object(h.a)(this,e),this.currentUser=null}return Object(j.a)(e,[{key:"login",value:function(){var e=new g.auth.GoogleAuthProvider;g.auth().signInWithPopup(e).then((function(e){console.log(e.user)})).catch((function(e){console.log(e)}))}},{key:"logout",value:function(){this.currentUser=null,g.auth().signOut()}},{key:"userStatusChange",value:function(e){var t=this;g.auth().onAuthStateChanged((function(n){n?Object(f.getRepository)(p).findById(n.uid).then((function(i){t.currentUser=i,i||(t.currentUser=p.fromFirebaseUser(n),Object(f.getRepository)(p).create(t.currentUser)),e(t.currentUser)})):(console.log("user loggout!"),e(null))}))}},{key:"getCurrentUserOrNull",value:function(){return this.currentUser}},{key:"getCurrentUser",value:function(){return this.currentUser}}]),e}()),m=function(){return Object(c.jsx)("h1",{children:" Oops! That page couldn't be found. "},void 0)},y=function(){var e=x.getCurrentUser();return Object(c.jsxs)("h1",{children:[" AuthenticatedHome - ",e.displayName,", ",e.id," "]},void 0)},U=function(){var e=x.getCurrentUser();return Object(c.jsxs)("h1",{children:[" My Subscription for ",e.displayName,", ",e.id," "]},void 0)};function C(){return Object(c.jsxs)("div",{children:[Object(c.jsx)(S,{},void 0),Object(c.jsx)("p",Object.assign({onClick:function(e){x.logout()}},{children:"Logout"}),void 0)]},void 0)}function k(){return Object(c.jsxs)("h1",{children:[" Un-AuthenticatedApp xxx",Object(c.jsx)("p",Object.assign({onClick:function(e){console.log("clicked"),x.login()}},{children:"Sign in here"}),void 0)]},void 0)}function w(e){var t=r.a.useState(void 0),n=Object(u.a)(t,2),i=n[0],o=n[1];return r.a.useEffect((function(){x.userStatusChange((function(e){o(e)}))}),[]),void 0===i?Object(c.jsx)("h2",{children:" Loading"},void 0):i?Object(c.jsx)(b.Provider,Object.assign({value:i},{children:Object(c.jsx)(C,{},void 0)}),void 0):Object(c.jsx)(k,{},void 0)}var S=Object(d.g)((function(e){return e.location.search.startsWith("?/")?Object(c.jsx)(d.a,{to:e.location.search.slice(1)},void 0):Object(c.jsxs)(d.d,{children:[Object(c.jsx)(d.b,{exact:!0,path:"/",component:y},void 0),Object(c.jsx)(d.b,{exact:!0,path:"/sub",component:U},void 0),Object(c.jsx)(d.b,{exact:!0,path:"*",component:m},void 0)]},void 0)})),I=function(e){return Object(c.jsx)(l.a,{children:Object(c.jsx)("header",{children:Object(c.jsx)("div",Object.assign({className:"App"},{children:Object(c.jsx)(w,Object.assign({},e),void 0)}),void 0)},void 0)},void 0)},A=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,165)).then((function(t){var n=t.getCLS,i=t.getFID,c=t.getFCP,o=t.getLCP,r=t.getTTFB;n(e),i(e),c(e),o(e),r(e)}))};s.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(I,{},void 0)},void 0),document.getElementById("root")),A()}},[[160,1,2]]]);
//# sourceMappingURL=main.7fcc4554.chunk.js.map