{"version":3,"sources":["index.js","App.js","AuthUserContext.js","RandomBackend.js","AuthUser.js","reportWebVitals.js"],"names":["__importDefault","this","mod","__esModule","Object","defineProperty","exports","value","react_1","require","react_dom_1","App_1","reportWebVitals_1","default","render","createElement","StrictMode","document","getElementById","__assign","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","react_router_dom_1","react_router_dom_2","AuthUserContext_1","RandomBackend_1","Page404","AuthenicatedHome","user","RandomBackend","getCurrentUserNotNull","displayName","uid","UserSubscriptions","AuthenticatedApp","SafeRoutes","onClick","event","logout","UnauthenticatedApp","console","log","login","Home","props","_a","useState","undefined","authUser","setAuthUser","useEffect","userStatusChange","AuthUserContext","Provider","withRouter","location","search","startsWith","Redirect","to","slice","Switch","Route","exact","path","component","BrowserRouter","className","createContext","AuthUser_1","firebase","firebaseConfig","apps","initializeApp","RandomBackendClass","currentUser","provider","auth","GoogleAuthProvider","signInWithPopup","then","result","catch","error","signOut","f","_this","onAuthStateChanged","AuthUser","getCurrentUser","__createBinding","create","o","m","k","k2","enumerable","get","__setModuleDefault","v","__importStar","onPerfEntry","Function","Promise","resolve","getCLS","getFID","getFCP","getLCP","getTTFB"],"mappings":"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","file":"static/js/main.0bdd88dc.chunk.js","sourcesContent":["\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar react_1 = __importDefault(require(\"react\"));\nvar react_dom_1 = __importDefault(require(\"react-dom\"));\nrequire(\"./index.css\");\nvar App_1 = __importDefault(require(\"./App\"));\nvar reportWebVitals_1 = __importDefault(require(\"./reportWebVitals\"));\nreact_dom_1.default.render(react_1.default.createElement(react_1.default.StrictMode, null,\n    react_1.default.createElement(App_1.default, null)), document.getElementById('root'));\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals_1.default();\n//# sourceMappingURL=index.js.map","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar react_1 = __importDefault(require(\"react\"));\nvar react_router_dom_1 = require(\"react-router-dom\");\nrequire(\"./App.css\");\nvar react_router_dom_2 = require(\"react-router-dom\");\nvar AuthUserContext_1 = require(\"./AuthUserContext\");\nvar RandomBackend_1 = require(\"./RandomBackend\");\nvar Page404 = function () {\n    return react_1.default.createElement(\"h1\", null, \" Oops! That page couldn't be found. \");\n};\nvar AuthenicatedHome = function () {\n    var user = RandomBackend_1.RandomBackend.getCurrentUserNotNull();\n    return react_1.default.createElement(\"h1\", null,\n        \" AuthenticatedHome - \",\n        user.displayName,\n        \", \",\n        user.uid,\n        \" \");\n};\nvar UserSubscriptions = function () {\n    // let user = React.useContext(AuthUserContext) as any;\n    var user = RandomBackend_1.RandomBackend.getCurrentUserNotNull();\n    return react_1.default.createElement(\"h1\", null,\n        \" My Subscription for \",\n        user.displayName,\n        \", \",\n        user.uid,\n        \" \");\n};\nvar App = function (props) {\n    return react_1.default.createElement(react_router_dom_2.BrowserRouter, null,\n        react_1.default.createElement(\"header\", null,\n            react_1.default.createElement(\"div\", { className: \"App\" },\n                react_1.default.createElement(Home, __assign({}, props)))));\n};\nfunction AuthenticatedApp() {\n    return react_1.default.createElement(\"div\", null,\n        react_1.default.createElement(SafeRoutes, null),\n        react_1.default.createElement(\"p\", { onClick: function (event) {\n                RandomBackend_1.RandomBackend.logout();\n            } }, \"Logout\"));\n}\nfunction UnauthenticatedApp() {\n    return react_1.default.createElement(\"h1\", null,\n        \" Un-AuthenticatedApp xxx\",\n        react_1.default.createElement(\"p\", { onClick: function (event) {\n                console.log(\"clicked\");\n                RandomBackend_1.RandomBackend.login();\n            } }, \"Sign in here\"));\n}\nfunction Home(props) {\n    var _a = react_1.default.useState(undefined), authUser = _a[0], setAuthUser = _a[1];\n    react_1.default.useEffect(function () {\n        RandomBackend_1.RandomBackend.userStatusChange(function (user) {\n            setAuthUser(user);\n        });\n    }, []);\n    if (authUser === undefined)\n        return react_1.default.createElement(\"h2\", null, \" Loading\");\n    return (authUser) ?\n        react_1.default.createElement(AuthUserContext_1.AuthUserContext.Provider, { value: authUser },\n            react_1.default.createElement(AuthenticatedApp, null))\n        : react_1.default.createElement(UnauthenticatedApp, null);\n}\nvar SafeRoutes = react_router_dom_1.withRouter(function (props) {\n    /* this came from the 404 redirect */\n    if (props.location.search.startsWith(\"?/\")) {\n        return react_1.default.createElement(react_router_dom_1.Redirect, { to: props.location.search.slice(1) });\n    }\n    return (react_1.default.createElement(react_router_dom_1.Switch, null,\n        react_1.default.createElement(react_router_dom_1.Route, { exact: true, path: \"/\", component: AuthenicatedHome }),\n        react_1.default.createElement(react_router_dom_1.Route, { exact: true, path: \"/sub\", component: UserSubscriptions }),\n        react_1.default.createElement(react_router_dom_1.Route, { exact: true, path: \"*\", component: Page404 })));\n});\nexports.default = App;\n//# sourceMappingURL=App.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AuthUserContext = void 0;\nvar react_1 = __importDefault(require(\"react\"));\nexports.AuthUserContext = react_1.default.createContext(undefined);\n//# sourceMappingURL=AuthUserContext.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RandomBackend = void 0;\nvar AuthUser_1 = require(\"./AuthUser\");\nrequire(\"@firebase/firestore\");\nrequire(\"@firebase/auth\");\nvar firebase = require('firebase/app').default;\nvar firebaseConfig = require('./firebaseConfig.json');\nif (!firebase.apps.length) {\n    firebase.initializeApp(firebaseConfig);\n}\nvar RandomBackendClass = /** @class */ (function () {\n    function RandomBackendClass() {\n        this.currentUser = null;\n    }\n    ;\n    RandomBackendClass.prototype.login = function () {\n        var provider = new firebase.auth.GoogleAuthProvider();\n        firebase.auth().signInWithPopup(provider).then(function (result) {\n            console.log(result.user);\n        }).catch(function (error) {\n            console.log(error);\n        });\n    };\n    RandomBackendClass.prototype.logout = function () {\n        this.currentUser = null;\n        firebase.auth().signOut();\n    };\n    RandomBackendClass.prototype.userStatusChange = function (f) {\n        var _this = this;\n        firebase.auth().onAuthStateChanged(function (user) {\n            if (user) {\n                console.log(\"newuser 2 !\");\n                _this.currentUser = new AuthUser_1.AuthUser(user);\n            }\n            else {\n                console.log(\"user loggout!\");\n            }\n            f(_this.currentUser);\n        });\n    };\n    RandomBackendClass.prototype.getCurrentUser = function () {\n        return this.currentUser;\n    };\n    RandomBackendClass.prototype.getCurrentUserNotNull = function () {\n        return this.currentUser;\n    };\n    return RandomBackendClass;\n}());\nexports.RandomBackend = new RandomBackendClass();\n//# sourceMappingURL=RandomBackend.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AuthUser = void 0;\nvar AuthUser = /** @class */ (function () {\n    function AuthUser(user) {\n        this.displayName = user.displayName;\n        this.uid = user.uid;\n    }\n    return AuthUser;\n}());\nexports.AuthUser = AuthUser;\n//# sourceMappingURL=AuthUser.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar reportWebVitals = function (onPerfEntry) {\n    if (onPerfEntry && onPerfEntry instanceof Function) {\n        Promise.resolve().then(function () { return __importStar(require('web-vitals')); }).then(function (_a) {\n            var getCLS = _a.getCLS, getFID = _a.getFID, getFCP = _a.getFCP, getLCP = _a.getLCP, getTTFB = _a.getTTFB;\n            getCLS(onPerfEntry);\n            getFID(onPerfEntry);\n            getFCP(onPerfEntry);\n            getLCP(onPerfEntry);\n            getTTFB(onPerfEntry);\n        });\n    }\n};\nexports.default = reportWebVitals;\n//# sourceMappingURL=reportWebVitals.js.map"],"sourceRoot":""}