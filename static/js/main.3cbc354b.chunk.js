(this.webpackJsonpwebsite=this.webpackJsonpwebsite||[]).push([[0],{123:function(e,t,n){},124:function(e,t,n){},155:function(e){e.exports=JSON.parse('{"projectId":"myrandomwatch-b4b41","appId":"1:458223764382:web:ad550ac9d5d240982d0c8f","databaseURL":"https://myrandomwatch-b4b41-default-rtdb.firebaseio.com","storageBucket":"myrandomwatch-b4b41.appspot.com","locationId":"us-central","apiKey":"AIzaSyCfD31xo4THGYQ5_Y0-VPVT71T3sB2YxL0","authDomain":"myrandomwatch-b4b41.firebaseapp.com","messagingSenderId":"458223764382","measurementId":"G-F2BBYE9XWJ"}')},160:function(e,t,n){"use strict";n.r(t);var i,c=n(4),o=n(2),r=n.n(o),s=n(59),a=n.n(s),u=(n(123),n(29)),d=n(6),l=(n(124),n(41)),b=r.a.createContext(void 0),f=n(23),h=n(26),j=n(17),p=function(e,t,n,i){var c,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(c=e[s])&&(r=(o<3?c(r):o>3?c(t,n,r):c(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},v=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)},O=function e(){Object(f.a)(this,e)},g=i=function(){function e(){Object(f.a)(this,e),this.displayName=null}return Object(h.a)(e,[{key:"uid",value:function(){return this.id}},{key:"subscriptionAdd",value:function(e){this.subscriptions.create(e)}}],[{key:"fromFirebaseUser",value:function(e){var t=new i;return t.displayName=e.displayName,t.id=e.uid,t}}]),e}();p([Object(j.SubCollection)(O),v("design:type",Object)],g.prototype,"subscriptions",void 0),g=i=p([Object(j.Collection)()],g),n(152),n(153);var m=n(154).default,x=n(155);m.apps.length||m.initializeApp(x),j.initialize(m.firestore(),{validateModels:!0});var y=new(function(){function e(){Object(f.a)(this,e),this.currentUser=null}return Object(h.a)(e,[{key:"login",value:function(){var e=new m.auth.GoogleAuthProvider;m.auth().signInWithPopup(e).then((function(e){console.log(e.user)})).catch((function(e){console.log(e)}))}},{key:"logout",value:function(){this.currentUser=null,m.auth().signOut()}},{key:"userStatusChange",value:function(e){var t=this;m.auth().onAuthStateChanged((function(n){n?Object(j.getRepository)(g).findById(n.uid).then((function(i){t.currentUser=i,i||(t.currentUser=g.fromFirebaseUser(n),Object(j.getRepository)(g).create(t.currentUser)),e(t.currentUser)})):(console.log("user loggout!"),e(null))}))}},{key:"getCurrentUserOrNull",value:function(){return this.currentUser}},{key:"getCurrentUser",value:function(){return this.currentUser}}]),e}()),C=function(){return Object(c.jsx)("h1",{children:" Oops! That page couldn't be found. "},void 0)},U=function(){var e=y.getCurrentUser(),t=r.a.useState(void 0),n=Object(u.a)(t,2),i=n[0],o=n[1],s=r.a.useState(!1),a=Object(u.a)(s,2),d=a[0],l=a[1];return r.a.useEffect((function(){e.subscriptions.find().then((function(e){o(e)}))}),[d]),i&&console.log(i),Object(c.jsxs)("h1",{children:["AuthenticatedHome - ",e.displayName,", ",e.id,i&&i.map((function(e){return Object(c.jsxs)("li",{children:[" ",e.name,",  ",e.url," "]},e.id)})),Object(c.jsx)("p",Object.assign({onClick:function(e){var t=y.getCurrentUser(),n=new O;n.name="hey hey",n.url="https://cnn.com",t.subscriptions.create(n).then((function(){console.log("done creating subscriptions"),l(!d)}))}},{children:"Add Subscription"}),void 0)]},void 0)},k=function(){var e=y.getCurrentUser();return Object(c.jsxs)("h1",{children:[" My Subscription for ",e.displayName,", ",e.id," "]},void 0)};function S(){return Object(c.jsxs)("div",{children:[Object(c.jsx)(I,{},void 0),Object(c.jsx)("p",Object.assign({onClick:function(e){y.logout()}},{children:"Logout"}),void 0)]},void 0)}function w(){return Object(c.jsxs)("h1",{children:[" Un-AuthenticatedApp xxx",Object(c.jsx)("p",Object.assign({onClick:function(e){console.log("clicked"),y.login()}},{children:"Sign in here"}),void 0)]},void 0)}function A(e){var t=r.a.useState(void 0),n=Object(u.a)(t,2),i=n[0],o=n[1];return r.a.useEffect((function(){y.userStatusChange((function(e){o(e)}))}),[]),void 0===i?Object(c.jsx)("h2",{children:" Loading"},void 0):i?Object(c.jsx)(b.Provider,Object.assign({value:i},{children:Object(c.jsx)(S,{},void 0)}),void 0):Object(c.jsx)(w,{},void 0)}var I=Object(d.g)((function(e){return e.location.search.startsWith("?/")?Object(c.jsx)(d.a,{to:e.location.search.slice(1)},void 0):Object(c.jsxs)(d.d,{children:[Object(c.jsx)(d.b,{exact:!0,path:"/",component:U},void 0),Object(c.jsx)(d.b,{exact:!0,path:"/sub",component:k},void 0),Object(c.jsx)(d.b,{exact:!0,path:"*",component:C},void 0)]},void 0)})),R=function(e){return Object(c.jsx)(l.a,{children:Object(c.jsx)("header",{children:Object(c.jsx)("div",Object.assign({className:"App"},{children:Object(c.jsx)(A,Object.assign({},e),void 0)}),void 0)},void 0)},void 0)},N=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,165)).then((function(t){var n=t.getCLS,i=t.getFID,c=t.getFCP,o=t.getLCP,r=t.getTTFB;n(e),i(e),c(e),o(e),r(e)}))};a.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(R,{},void 0)},void 0),document.getElementById("root")),N()}},[[160,1,2]]]);
//# sourceMappingURL=main.3cbc354b.chunk.js.map