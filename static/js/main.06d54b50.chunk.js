(this.webpackJsonpwebsite=this.webpackJsonpwebsite||[]).push([[0],{102:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=r(n(3)),o=r(n(110));n(114);var a=r(n(115)),i=r(n(155));o.default.render(u.default.createElement(u.default.StrictMode,null,u.default.createElement(a.default,null)),document.getElementById("root")),i.default()},114:function(e,t,n){},115:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var u in t=arguments[n])Object.prototype.hasOwnProperty.call(t,u)&&(e[u]=t[u]);return e}).apply(this,arguments)},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=u(n(3)),a=n(49);n(120);var i=n(49),l=n(121),c=n(122),s=function(){return o.default.createElement("h1",null," Oops! That page couldn't be found. ")},d=function(){var e=c.RandomBackend.getCurrentUser();return o.default.createElement("h1",null," AuthenticatedHome - ",e.displayName,", ",e.id," ")},f=function(){var e=c.RandomBackend.getCurrentUser();return o.default.createElement("h1",null," My Subscription for ",e.displayName,", ",e.id," ")};function p(){return o.default.createElement("div",null,o.default.createElement(v,null),o.default.createElement("p",{onClick:function(e){c.RandomBackend.logout()}},"Logout"))}function h(){return o.default.createElement("h1",null," Un-AuthenticatedApp xxx",o.default.createElement("p",{onClick:function(e){console.log("clicked"),c.RandomBackend.login()}},"Sign in here"))}function m(e){var t=o.default.useState(void 0),n=t[0],r=t[1];return o.default.useEffect((function(){c.RandomBackend.userStatusChange((function(e){r(e)}))}),[]),void 0===n?o.default.createElement("h2",null," Loading"):n?o.default.createElement(l.AuthUserContext.Provider,{value:n},o.default.createElement(p,null)):o.default.createElement(h,null)}var v=a.withRouter((function(e){return e.location.search.startsWith("?/")?o.default.createElement(a.Redirect,{to:e.location.search.slice(1)}):o.default.createElement(a.Switch,null,o.default.createElement(a.Route,{exact:!0,path:"/",component:d}),o.default.createElement(a.Route,{exact:!0,path:"/sub",component:f}),o.default.createElement(a.Route,{exact:!0,path:"*",component:s}))}));t.default=function(e){return o.default.createElement(i.BrowserRouter,null,o.default.createElement("header",null,o.default.createElement("div",{className:"App"},o.default.createElement(m,r({},e)))))}},120:function(e,t,n){},121:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.AuthUserContext=void 0;var u=r(n(3));t.AuthUserContext=u.default.createContext(void 0)},122:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),u=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return u(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.RandomBackend=void 0;var a=n(123),i=n(21),l=o(n(21));n(151),n(152);var c=n(153).default,s=n(154);c.apps.length||c.initializeApp(s),l.initialize(c.firestore(),{validateModels:!0});var d=function(){function e(){this.currentUser=null}return e.prototype.login=function(){var e=new c.auth.GoogleAuthProvider;c.auth().signInWithPopup(e).then((function(e){console.log(e.user)})).catch((function(e){console.log(e)}))},e.prototype.logout=function(){this.currentUser=null,c.auth().signOut()},e.prototype.userStatusChange=function(e){var t=this;c.auth().onAuthStateChanged((function(n){n?i.getRepository(a.AuthUser).findById(n.uid).then((function(r){t.currentUser=r,r||(t.currentUser=a.AuthUser.fromFirebaseUser(n),i.getRepository(a.AuthUser).create(t.currentUser)),e(t.currentUser)})):(console.log("user loggout!"),e(null))}))},e.prototype.getCurrentUserOrNull=function(){return this.currentUser},e.prototype.getCurrentUser=function(){return this.currentUser},e}();t.RandomBackend=new d},123:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var u,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var i=e.length-1;i>=0;i--)(u=e[i])&&(a=(o<3?u(a):o>3?u(t,n,a):u(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.AuthUser=void 0;var u=n(21),o=function(){function e(){this.displayName=null}var t;return t=e,e.fromFirebaseUser=function(e){var n=new t;return n.displayName=e.displayName,n.id=e.uid,n},e.prototype.uid=function(){return this.id},e=t=r([u.Collection()],e)}();t.AuthUser=o},154:function(e){e.exports=JSON.parse('{"projectId":"myrandomwatch-b4b41","appId":"1:458223764382:web:ad550ac9d5d240982d0c8f","databaseURL":"https://myrandomwatch-b4b41-default-rtdb.firebaseio.com","storageBucket":"myrandomwatch-b4b41.appspot.com","locationId":"us-central","apiKey":"AIzaSyCfD31xo4THGYQ5_Y0-VPVT71T3sB2YxL0","authDomain":"myrandomwatch-b4b41.firebaseapp.com","messagingSenderId":"458223764382","measurementId":"G-F2BBYE9XWJ"}')},155:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),u=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return u(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){e&&e instanceof Function&&Promise.resolve().then((function(){return o(n(156))})).then((function(t){var n=t.getCLS,r=t.getFID,u=t.getFCP,o=t.getLCP,a=t.getTTFB;n(e),r(e),u(e),o(e),a(e)}))}}},[[102,1,2]]]);
//# sourceMappingURL=main.06d54b50.chunk.js.map